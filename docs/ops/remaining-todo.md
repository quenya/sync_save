# Remaining Work Todo (Web Codex only)

## 1) 인증/계정 (OAuth)
1. [x] `Google OAuth` 및 `Facebook OAuth` 로그인 구현
2. [x] 사용자 테이블/연동 계정 테이블 스키마 정비
3. [x] 로그인 세션/JWT 전략 정리
4. [x] 계정 탈퇴/토큰 갱신/로그인 상태 관리 처리

## 2) 계정 격리 및 보안
1. [x] API 인증 미들웨어 추가(요청별 사용자 식별)
2. [x] 게임/저장소 리소스 쿼리 계정 필터 강제
3. [x] 저장 경로 접근 제어(사용자 단위 디렉터리 고립)
4. [x] 권한 체크/403 응답 규칙 통일
5. [x] 계정 격리 회귀 테스트 추가

## 3) 저장 파일 동기화 핵심 기능
1. [x] 게임 등록 API: 게임명 + 저장 경로 저장
2. [x] 저장 데이터 업로드 파이프라인(압축, 해시, 버전 생성)
3. [x] 저장 데이터 다운로드/복원 파이프라인
4. [x] 저장 파일 버전 이력 조회 API
5. [x] 충돌 감지(타임스탬프/버전 비교) 및 수동 resolve

## 4) 반응형 웹 UI MVP
1. [x] 로그인/OAuth 연결 화면
2. [x] 게임 목록/등록 화면(반응형)
3. [x] 업로드/다운로드 제어 화면
4. [x] 리비전 이력/동기화 상태 화면
5. [x] 간단한 충돌 알림/해결 화면

## 5) 배포/운영 보강
1. [x] `docker-compose.prod.yml` 실제 앱 이미지 변수 정합성 점검
2. [x] 웹/맥미니 배포 후 HTTPS 도메인 라우팅 점검
3. [x] Cloudflare Tunnel 정책(토큰 교체/도메인 확인) 문서 정리
4. [ ] 보안 점검: SSH 접근, secrets 관리, rate limit, 로그 정책

## 6) 통합/운영 문서
1. [x] API 계약서(OpenAPI) 정리
2. [x] 통합 테스트 시나리오 작성 및 실행 가이드
3. [x] 배포/롤백/비상복구 운영 Runbook 완성
4. [x] 릴리스 체크리스트 및 릴리즈 노트 템플릿

## 우선순위 기준
1. 인증 + 계정 격리
2. 게임 등록/동기화 핵심 기능
3. UI
4. 배포 보안/운영 고도화

## 현재 상태 정리
- 완료: CI/CD 파이프라인 골격, Mac mini 배포 스크립트, 운영 체크리스트
- 미완료: 5-4 (보안 점검 문항 항목 실행/검증 체크), 장기 운영 run-time hardening

## 실운영 전 동작 체크 결과 (요약)
- 점검 일시: 2026-02-14
- API 테스트: `npm test` → `pass 13 / total 13`
- 수동 스모크 체크: `14/14` 통과
- 확인 항목
  - OAuth 로그인(Mock) + `/me`
  - 게임 등록/조회
  - 리비전 업로드/최신 조회/목록 조회/다운로드 메타 조회
  - 아티팩트 업로드 저장 경로 생성
  - 충돌 감지(409) + 수동 resolve
  - 토큰 갱신(기존 세션 폐기) + 최신 토큰으로 계정 삭제

### 확인된 동작 특이사항
- `auth/refresh` 호출 시 기존 세션이 즉시 폐기되어, 이전 access token은 401로 처리됨.
